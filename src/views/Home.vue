<template>
  <div class="home">
    <el-row type='flex'
            justify="center"
            :gutter='10'>
      <el-col :span="8">
        <div id="Qps"
             class=" br6 mt5-p"></div>
        <div id="top100"
             class=" br6 mt10-p"></div>
        <div id="top20Left"
             class=" br6 mt10-p"></div>
      </el-col>
      <el-col :span="8">
        <div id="myacharts"
             class="mt100-p"></div>
      </el-col>
      <el-col :span="8">
        <div id="topLog"
             class=" br6 mt5-p"></div>
        <div id="topcity"
             class=" br6 mt10-p"></div>
        <div id="topOperator"
             class=" br6 mt10-p"></div>
      </el-col>
    </el-row>
  </div>
</template>

<script>

export default {
  data () {
    return {
      endTime: '', // 当前的时间
      startTime: '', // 开始查询的时间
      HostendTime: '', // 柱状图的截至查询时间 当日0点
      HoststartTime: '' // 柱状图的开始查查询时间 次日0点
    }
  },
  created () {
    this.endTime = new Date().getTime()
    this.startTime = this.endTime - (24 * 60 * 60 * 1000)
    this.gettime() // 获取柱状图的查询时间
  },
  mounted () {
    this.setOption()
    // this.reportHost() // 获取柱状图 时间控制在次日0点到当日0点
    // this.getChdTrend() // 获取趋势图合集
    this.setTest() // 右一测试数据
  },
  methods: {
    setOption () {
      var myChart = this.$echarts.init(document.getElementById('myacharts'))
      var uploadedDataURL = '/zhejiang.json'
      myChart.showLoading()
      this.$ajax({
        method: 'get',
        url: uploadedDataURL,
        cr: (geoJson) => {
          this.$echarts.registerMap('zhejiang', geoJson) // 注册地图
          var data = geoJson.features.map((item) => { // 显示窗口的数据转换
            return {
              value: (Math.random() * 1000).toFixed(2),
              name: item.properties.name
            }
          })
          myChart.hideLoading() // 影藏loading事件
          var option = {
            // backgroundColor: '#404a59', // 背景
            tooltip: { // 窗口外框
              backgroundColor: 'rgba(0,0,0,0)',
              trigger: 'item'
            },
            legend: {
              show: false
            },
            series: [{
              tooltip: { // 显示的窗口
                trigger: 'item',
                formatter: function (item) {
                  var tipHtml = '';
                  tipHtml = '<div style="background:#fff;border-radius:10px;padding-top:10px;box-shadow:0 0 10px #666">' +
                    '<div style="color:#fff;height:20px;border-radius:6px;font-size:12px;line-height:20px;background-color:#5861a2;text-align:center;margin:0 2px;">' + item.data.name + '</div>' +
                    '<div style="text-align:center;color:#494949;padding:8px 6px">' +
                    '<span style="font-size:14px;">' + '测试设备：' + item.data.value + ' ' + '</span>' +
                    '</div>' + '</div>';
                  return tipHtml;
                }
              },
              name: '浙江省数据',
              type: 'map',
              map: 'zhejiang', // 自定义扩展图表类型
              zoom: 0.55, // 缩放
              showLegendSymbol: false,
              label: { // 文字
                show: true,
                color: '#fff',
                fontSize: 12
              },
              itemStyle: { // 地图样式
                normal: {
                  borderColor: 'rgba(147, 235, 248, 1)',
                  borderWidth: 1,
                  areaColor: {
                    type: 'radial',
                    x: 0.5,
                    y: 0.5,
                    r: 0.8,
                    colorStops: [{
                      offset: 0,
                      color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色
                    }, {
                      offset: 1,
                      color: 'rgba(147, 235, 248, .2)' // 100% 处的颜色
                    }],
                    globalCoord: false // 缺省为 false
                  },
                  shadowColor: 'rgba(128, 217, 248, 1)',
                  // shadowColor: 'rgba(255, 255, 255, 1)',
                  shadowOffsetX: -2,
                  shadowOffsetY: 2,
                  shadowBlur: 10
                }
              },
              emphasis: { // 鼠标移入动态的时候显示的默认样式
                itemStyle: {
                  areaColor: '#FFD181',
                  borderColor: '#404a59',
                  borderWidth: 1
                }
              },
              layoutCenter: ['50%', '50%'],
              layoutSize: '160%',
              markPoint: {
                symbol: 'none'
              },
              data: data
            }]
          }
          myChart.setOption(option)
        }
      })
    },
    // 获取柱状图查询时间
    gettime () {
      let data = new Date()
      data.setHours(0, 0, 0, 0)
      this.HostendTime = data.getTime()
      this.HoststartTime = this.HostendTime - 24 * 60 * 60 * 1000
    },
    // 渲染折线图
    top100 (options) {
      let myChart = this.$echarts.init(document.getElementById(options.id)); let option
      option = {
        title: {
          text: options.text,
          left: 'center',
          padding: 20,
          textStyle: {
            color: '#217FBB',
            fontSize: 16
          }
        },
        color: this.$blobal.color,
        dataZoom: this.$blobal.dataZoom,
        tooltip: {
          show: true,
          textStyle: {
            align: 'left',
            fontSize: 14
          },
          padding: [8, 12],
          backgroundColor: 'rgba(0, 0, 0, 0.8)',
          trigger: 'axis',
          formatter: (params) => {
            let str = this.$format(params[0].name, 1)
            params.forEach(item => {
              let score = this.$setNum(item.value); let nameStr = this.$formatterTitle(item.color)
              str += `<br />
                      <span ${nameStr}></span>
                      <span class="" style="display:inline-block;height: 10px;text-align: left">${item.seriesName} : ${score}</span>`
            })
            return str
          }
        },
        grid: {
          left: '3%',
          top: '20%',
          right: '10%',
          bottom: '7%',
          containLabel: true
        },
        xAxis: {
          type: 'category',
          axisLine: {
            lineStyle: {
              color: '#e9e9e9'
            }
          },
          axisLabel: {
            color: '#fff',
            showMaxLabel: true,
            formatter: (value) => {
              if (value && value != '暂无') {
                if (String(value).length == 13) {
                  return this.$format(value, true, true)
                } else {
                  return this.$format(value * 1000, true, true)
                }
              } else {
                return '暂无'
              }
            }
          },
          boundaryGap: false,
          data: options.xaxis
        },
        yAxis: {
          type: 'value',
          nameTextStyle: {
            align: 'left',
            color: 'rgba(0,0,0,0.65)',
            padding: [0, 15, 5, 0]
          },
          axisLine: {
            show: false
          },
          axisTick: {
            show: false
          },
          splitLine: {
            show: false,
            lineStyle: {
              type: 'solid',
              color: ['#f3f3f3']
            }
          },
          axisLabel: {
            color: 'white',
            formatter: (params) => {
              let score = this.$setNum(params)
              return score
            }
          }
        },
        series: options.series
      }
      myChart.setOption(option, true)
    },
    // 渲染柱状图
    setEchartHost (arr, brr, id, text) {
      let option, myChart
      myChart = this.$echarts.init(document.getElementById(id))
      option = {
        title: {
          text: text,
          left: 'center',
          padding: 20,
          textStyle: {
            color: '#217FBB',
            fontSize: 16
          }
        },
        grid: {
          top: '20%',
          right: '7% ',
          left: '22%',
          bottom: '15%'
        },
        yAxis: [{
          type: 'category',
          inverse: 'true', // 坐标轴排序
          data: arr,
          axisLabel: {
            color: 'rgba(0,0,0,0.65)'
          },
          axisLine: {
            lineStyle: {
              color: '#e9e9e9'
            }
          },
          axisTick: {
            show: true
          },
          splitLine: {
            show: false
          }
        }],
        xAxis: [{
          type: 'value',
          axisLabel: {
            color: 'rgba(0,0,0,0.65)'
          },
          axisLine: {
            show: false
          },
          axisTick: {
            show: false
          },
          splitLine: {
            show: true,
            lineStyle: {
              type: 'solid',
              color: ['#f3f3f3']
            }
          }
        }],
        series: [{
          type: 'bar',
          data: brr,
          barWidth: '12px',
          animation: true,
          itemStyle: {
            normal: {
              color: (params) => {
                return this.$blobal.color[params.dataIndex]
              },
              barBorderRadius: [0, 30, 30, 0]
            }
          },
          label: {
            normal: {
              show: true,
              fontSize: 13,
              fontWeight: 'bold',
              color: '#333',
              position: 'right'
            }
          }
        }]
      }
      myChart.setOption(option, true)
    },
    // 渲染饼图
    setChartOption (arr, brr, id, text) {
      let myChart
      myChart = this.$echarts.init(document.getElementById(id))
      let option = {
        title: {
          text: text,
          left: 'center',
          padding: 20,
          textStyle: {
            color: '#217FBB',
            fontSize: 16
          }
        },
        color: this.$blobal.color,
        tooltip: {
          trigger: 'item',
          textStyle: {
            align: 'left'
          },
          padding: [8, 12],
          backgroundColor: 'rgba(0, 0, 0, 0.8)',
          formatter: (params) => {
            let nameStr = this.$formatterTitle(params.color);
            let str = `<span> ${params.seriesName}</span > <br />`
            str += `<span ${nameStr}></span>
            <span> ${params.name} : ${params.value} (${params.percent}%)</span >
              <br />`
            return str
          },
          position: 'left'
        },
        grid: {
          top: 10
        },
        legend: {
          show: true,
          type: 'scroll',
          orient: 'horizontal',
          bottom: 10,
          textStyle: {
            color: '#fff'
          },
          data: arr
        },
        series: [{
          name: text,
          animation: false,
          type: 'pie',
          radius: '50%',
          center: ['50%', '50%'],
          data: brr,
          labelLine: {
            normal: {
              length: 1
            }
          },
          itemStyle: {
            emphasis: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
          }
        }]
      }
      myChart.setOption(option, true)
    },
    // 右一饼图测试数据+左一折线图测试数据+中二测试数据
    setTest () {
      let arr = ['218.108.248.201', '218.108.248.245', '218.108.248.200', '218.108.248.228'];
      let brr = [
        {
          name: '218.108.248.201',
          value: 45
        }, {
          name: '218.108.248.245',
          value: 34
        }, {
          name: '218.108.248.200',
          value: 22
        },
        {
          name: '218.108.248.228',
          value: 19
        }
      ];
      let xaxis = [];
      let data1 = [
        90943,
        91524,
        90231,
        89744,
        89225,
        89471,
        86538,
        91954,
        90857,
        91045,
        91201,
        91044,
        90371,
        91845,
        88830,
        91580,
        91722,
        92295,
        92168,
        94545,
        93685,
        94089,
        93053,
        92781,
        93893,
        95077,
        94153,
        94440,
        94281,
        94870,
        94387,
        97246,
        92737,
        95265,
        95191,
        95442,
        94634,
        94930,
        93825,
        93342,
        92672,
        92531,
        92493,
        93964,
        92488,
        92325,
        91634,
        88464,
        90549,
        92246,
        90301,
        90392,
        90310,
        89864,
        89959,
        92212,
        91753,
        90856,
        90911,
        90830,
        90627,
        91827,
        89398,
        91843,
        91893,
        92078,
        92136,
        94823,
        92254,
        92134,
        91605,
        91574,
        91147,
        91934,
        91175,
        90820,
        90419,
        90817,
        91106,
        94196,
        93267,
        94623,
        94381,
        95010,
        92697,
        97171,
        97111,
        97676,
        98845,
        100185,
        97743,
        102331,
        101798,
        103267,
        104750,
        105155,
        106333,
        107847,
        105176,
        109688,
        109970,
        111114,
        112083,
        115610,
        115409,
        116395,
        118053,
        117865,
        118992,
        117787,
        121421,
        123153,
        124447,
        125114,
        126925,
        131302,
        131511,
        132165,
        134017,
        134292,
        135314,
        137414,
        137785,
        139281,
        140623,
        141962,
        143483,
        148572,
        146666,
        144117,
        150130,
        151773,
        152895,
        154740,
        154702,
        156168,
        156874,
        157496,
        158966,
        162438,
        161528,
        161578,
        163100,
        161714,
        163491,
        165273,
        164106,
        163250,
        163403,
        161981,
        161139,
        162166,
        159772,
        158111,
        152240,
        154489,
        152549,
        151072,
        148896,
        146419,
        143870,
        140908,
        138601,
        137626,
        134144,
        131302,
        128896,
        122797,
        123519,
        121485,
        118443,
        115627,
        113864,
        112371,
        110529,
        116289,
        110485,
        108106,
        103192,
        100411,
        97969,
        96839,
        95014,
        93358,
        92439,
        89565,
        87870,
        87733,
        85784,
        84338,
        83513,
        82327,
        81201,
        80420,
        79308,
        78128,
        77537,
        76521,
        75863,
        76772,
        75461,
        74793,
        74244,
        73283,
        73023,
        73320,
        72155,
        71000,
        70418,
        69899,
        69486,
        74045,
        70368,
        69148,
        68703,
        68733,
        68318,
        68588,
        68024,
        65095,
        67120,
        66806,
        66260,
        67345,
        66156,
        66440,
        66066,
        65839,
        65824,
        66369,
        65875,
        65841,
        65962,
        66063,
        65944,
        68386,
        67091,
        67961,
        68436,
        69395,
        70406,
        72951,
        73602,
        74827,
        76434,
        78132,
        79316,
        86065,
        84351,
        83080,
        86628,
        88165,
        88776,
        92916,
        90886,
        91734,
        91439,
        92855,
        92663,
        100809,
        96011,
        95937,
        94519,
        95690,
        93560,
        95418,
        92902,
        92881,
        91676,
        90687,
        90508,
        95457,
        92850,
        91799,
        90998,
        91034,
        90327,
        92003,
        91415,
        90311,
        90068,
        90530,
        91904,
        94236,
        93142,
        93871,
        92977
      ];
      let res = [
        {
          name: '218.108.248.201',
          trendChartDto: {
            yaxis: [
              11091,
              10560,
              11453,
              11005,
              11376,
              10220,
              10446,
              11165,
              11917,
              10932,
              12086,
              11570,
              11118,
              11487,
              12060,
              12270,
              10045,
              11812,
              12239,
              11220,
              12191,
              11972,
              11598,
              10431,
              11516,
              11154,
              11634,
              13475,
              13240,
              13549,
              12709,
              13612,
              13680,
              15550,
              13045,
              12636,
              13369,
              13280,
              13331,
              13780,
              12057,
              12084,
              12353,
              12338,
              12406,
              12339,
              13214,
              12834,
              11997,
              12104,
              11525,
              12790,
              12089,
              11492,
              10569,
              9782,
              9194,
              10245,
              10583,
              10360,
              11319,
              11563,
              10549,
              10586,
              10416,
              10432,
              11014,
              10414,
              10482,
              9915,
              11650,
              9291,
              11394,
              10292,
              10686,
              10274,
              10095,
              9675,
              11213,
              10968,
              9883,
              10118,
              10377,
              10140,
              11192,
              10548,
              11295,
              11071,
              10655,
              10694,
              10373,
              10557,
              11603,
              11669,
              11111,
              12119,
              13979,
              11973,
              12511,
              13004,
              12833,
              13205,
              12415,
              13028,
              13524,
              13877,
              14483,
              14048,
              16090,
              15060,
              14056,
              15426,
              15061,
              14529,
              17180,
              16074,
              15483,
              16174,
              16313,
              16518,
              16685,
              17384,
              15664,
              16732,
              16608,
              17536,
              18621,
              17840,
              18370,
              19237,
              19257,
              19074,
              21371,
              19358,
              22035,
              19925,
              20798,
              18866,
              18176,
              20069,
              20565,
              19630,
              19611,
              18076,
              18086,
              18590,
              16838,
              18272,
              18173,
              17416,
              16951,
              16565,
              17661,
              14713,
              14505,
              15910,
              14305,
              13211,
              12512,
              11963,
              11359,
              11854,
              11948,
              10786,
              10333,
              10225,
              9911,
              9626,
              11435,
              3827,
              1596,
              1540,
              1476,
              1550,
              1422,
              1613,
              1424,
              3762,
              6843,
              7064,
              6269,
              6320,
              6150,
              6079,
              5692,
              6180,
              5563,
              6247,
              5675,
              5303,
              5384,
              5473,
              5370,
              5474,
              5397,
              5324,
              5212,
              5353,
              5418,
              5515,
              5557,
              5259,
              4783,
              5119,
              5133,
              4920,
              4896,
              5022,
              5044,
              5118,
              4893,
              4927,
              5112,
              5193,
              5156,
              5085,
              5058,
              4659,
              5195,
              4894,
              5171,
              4804,
              5100,
              4924,
              5167,
              5019,
              4570,
              5225,
              5489,
              5305,
              5723,
              5435,
              5703,
              5507,
              6126,
              6660,
              6684,
              6458,
              7160,
              7257,
              10981,
              8227,
              8536,
              8921,
              9295,
              9785,
              9653,
              9728,
              9883,
              9198,
              11350,
              11119,
              12582,
              11651,
              11854,
              11402,
              11351,
              10875,
              11449,
              10207,
              9134,
              10194,
              10632,
              10581,
              10123,
              10034,
              10470,
              10160,
              10702,
              11348,
              10780,
              10937,
              10819,
              10944,
              11571,
              11058,
              11773,
              11803,
              10836,
              11220,
              10582,
              11897,
              11537,
              11131,
              11003,
              11133
            ]
          }
        },
        {
          name: '218.108.248.245',
          trendChartDto: {
            yaxis: [
              11594416,
              11437625,
              11525119,
              11593853,
              11542133,
              11421064,
              11578408,
              11252012,
              11591134,
              11693561,
              11714226,
              11696020,
              12076744,
              11924158,
              11971546,
              11856169,
              11880391,
              12112309,
              12284219,
              12175463,
              12209207,
              12163471,
              12300874,
              12326712,
              12715282,
              12076467,
              12275594,
              12299387,
              12310698,
              12157228,
              12090035,
              12017894,
              11903426,
              11788665,
              11816152,
              11851976,
              11973612,
              11759075,
              11689639,
              11601620,
              11197484,
              11447180,
              11639792,
              11373167,
              11365207,
              11348343,
              11302207,
              11281768,
              11580580,
              11605746,
              11413444,
              11415179,
              11409416,
              11366531,
              11519532,
              11146846,
              11473901,
              11491078,
              11437249,
              11425496,
              11785849,
              11502701,
              11455248,
              11434913,
              11421649,
              11375118,
              11426878,
              11365307,
              11400709,
              11362547,
              11392310,
              11458127,
              11911406,
              11791753,
              11997352,
              12078585,
              12227859,
              11932168,
              12525206,
              12620969,
              12724928,
              12926850,
              13151905,
              12920792,
              13658246,
              13669356,
              13959701,
              14192758,
              14343902,
              14590074,
              14881499,
              14596710,
              15322497,
              15407625,
              15604357,
              15805616,
              16357889,
              16352057,
              16495760,
              16809453,
              16814642,
              17012411,
              16897902,
              17445784,
              17661146,
              17965426,
              18052768,
              18306402,
              18968345,
              19050285,
              19108884,
              19472746,
              19497934,
              19703143,
              20023663,
              20109027,
              20345556,
              20595946,
              20834747,
              21102906,
              21892714,
              21646199,
              21267249,
              22235468,
              22468384,
              22674270,
              22922358,
              23024078,
              23264226,
              23437748,
              23503928,
              23760423,
              24299369,
              24170701,
              24127158,
              24374322,
              24149670,
              24417646,
              24678927,
              24570313,
              24444146,
              24453883,
              24227492,
              24028713,
              24182301,
              23820566,
              23526606,
              22581814,
              22910703,
              22613283,
              22355977,
              21985867,
              21582298,
              21193089,
              20701577,
              20360728,
              20148979,
              19631288,
              19145037,
              18788266,
              17863295,
              17995240,
              17604140,
              17119190,
              16670208,
              16357391,
              16095479,
              15813135,
              16635443,
              15712675,
              15350138,
              14747826,
              14303310,
              13997950,
              13802274,
              13525254,
              13243460,
              13088999,
              12683319,
              12430291,
              12393053,
              12105523,
              11892971,
              11780880,
              11576723,
              11444243,
              11320133,
              11164061,
              10965630,
              10889935,
              10719554,
              10666453,
              10808945,
              10587747,
              10466688,
              10412123,
              10235343,
              10191182,
              10292070,
              10131625,
              9913157,
              9848127,
              9773210,
              9710809,
              10414801,
              9830974,
              9625232,
              9559202,
              9568967,
              9483910,
              9503563,
              9433154,
              9014443,
              9302210,
              9286384,
              9217302,
              9343778,
              9165607,
              9155045,
              9096784,
              9046015,
              9060091,
              9142859,
              9119455,
              9060989,
              9092357,
              9117662,
              9112949,
              9473449,
              9271543,
              9398094,
              9486733,
              9637944,
              9833900,
              10266170,
              10391674,
              10601167,
              10889001,
              11153525,
              11395978,
              12425092,
              12107191,
              11952238,
              12492509,
              12691346,
              12762720,
              13392686,
              13044678,
              13125927,
              13068470,
              13263648,
              13215686,
              14402990,
              13618158,
              13549598,
              13315928,
              13371808,
              12987697,
              13136985,
              12715409,
              12618979,
              12358066,
              12114830,
              12015315,
              12616128,
              12224896,
              12008869,
              11836116,
              11765517,
              11593850,
              11747135,
              11667660,
              11471731,
              11443318,
              11504000,
              11609618,
              11865834,
              11822021,
              11914772,
              11718276,
              11788137,
              11698855,
              11731834,
              11651844,
              11682402,
              11624985
            ]
          }
        },
        {
          name: '218.108.248.200',
          trendChartDto: {
            yaxis: [
              7172500,
              7070880,
              7059203,
              7028969,
              7043466,
              6997244,
              7077616,
              6809035,
              7074055,
              7055084,
              7084247,
              7031293,
              7240396,
              7180209,
              7197283,
              7101835,
              7097324,
              7126873,
              7203921,
              7091780,
              7074288,
              7069829,
              7109904,
              7004628,
              7223848,
              6923315,
              7102423,
              7037370,
              7136676,
              7102413,
              7209951,
              7089446,
              7100955,
              6964809,
              7018494,
              7023117,
              7175836,
              7002078,
              7064634,
              6964451,
              6807054,
              6980865,
              7121968,
              6976129,
              7053834,
              7032609,
              6977638,
              6972375,
              7173055,
              7081353,
              7059573,
              7052028,
              7044238,
              7029507,
              7111566,
              6927517,
              7155153,
              7096727,
              7226663,
              7278042,
              7400116,
              7255914,
              7300145,
              7161262,
              7120142,
              7093485,
              7210675,
              7081762,
              7024913,
              6988610,
              7040048,
              7033403,
              7229779,
              7158943,
              7265995,
              7158671,
              7186440,
              6956829,
              7217536,
              7184485,
              7161739,
              7166476,
              7257072,
              7046850,
              7276015,
              7153888,
              7147896,
              7169170,
              7128613,
              7147262,
              7204305,
              6941944,
              7200437,
              7080470,
              7098082,
              7143252,
              7326744,
              7322671,
              7388206,
              7337215,
              7330024,
              7358662,
              7279222,
              7455826,
              7598444,
              7593970,
              7653944,
              7750461,
              8002480,
              7958895,
              8023543,
              8063525,
              8083542,
              8114907,
              8227615,
              8231276,
              8327603,
              8340067,
              8429266,
              8480936,
              8752269,
              8571999,
              8433452,
              8746207,
              8832750,
              8860979,
              9004792,
              8937754,
              9041007,
              9009502,
              9071517,
              9099062,
              9245450,
              9148271,
              9212529,
              9279886,
              9206513,
              9293130,
              9391931,
              9278871,
              9267102,
              9273930,
              9223302,
              9162947,
              9266826,
              9069734,
              9007153,
              8661962,
              8840947,
              8723179,
              8679117,
              8565780,
              8477535,
              8326061,
              8207050,
              8036827,
              8046082,
              7861518,
              7747922,
              7639946,
              7339839,
              7377028,
              7294724,
              7160890,
              7012710,
              6934147,
              6903492,
              6788169,
              7126833,
              6840834,
              6722483,
              6386845,
              6277709,
              6120767,
              6098567,
              5976711,
              5918469,
              5862990,
              5700562,
              5605990,
              5596040,
              5465543,
              5404002,
              5338808,
              5336859,
              5244478,
              5193262,
              5108969,
              5076227,
              5022549,
              4989892,
              4935024,
              4982530,
              4894413,
              4898961,
              4827071,
              4808081,
              4763752,
              4801669,
              4686710,
              4669190,
              4611887,
              4611033,
              4558242,
              4807257,
              4586115,
              4543979,
              4492553,
              4515791,
              4507618,
              4542538,
              4492276,
              4319857,
              4425017,
              4412007,
              4364229,
              4458863,
              4367393,
              4435632,
              4395548,
              4406424,
              4410094,
              4447731,
              4381571,
              4408732,
              4401596,
              4388979,
              4387818,
              4536288,
              4446448,
              4517690,
              4527752,
              4591687,
              4613124,
              4739969,
              4758167,
              4846000,
              4865325,
              4970287,
              4998649,
              5388065,
              5284835,
              5215954,
              5383185,
              5504127,
              5531733,
              5760369,
              5674740,
              5741173,
              5726559,
              5831503,
              5811611,
              6273234,
              6058074,
              6112932,
              6039468,
              6227378,
              6162036,
              6384940,
              6304387,
              6406629,
              6423486,
              6448107,
              6514246,
              6898766,
              6747710,
              6753099,
              6722813,
              6834330,
              6878585,
              7038205,
              6993601,
              6976295,
              6939158,
              6981234,
              7097393,
              7288541,
              7190611,
              7273942,
              7164274,
              7187006,
              7211995,
              7227725,
              7101473,
              7116359,
              6996764
            ]
          }
        },
        {
          name: '218.108.248.228',
          trendChartDto: {
            yaxis: [
              8808206,
              8738082,
              8717783,
              8726544,
              8716385,
              8682847,
              8887271,
              8576970,
              8797037,
              8757135,
              8878160,
              8911766,
              9035358,
              8989841,
              9045975,
              8945747,
              8846623,
              8916962,
              9022926,
              8967586,
              9036547,
              9039195,
              9038826,
              8974385,
              9223352,
              8810256,
              9189974,
              9207241,
              9172018,
              9117175,
              9166539,
              9026641,
              8984668,
              9032700,
              8911614,
              8860193,
              9026581,
              8972214,
              8930168,
              8910441,
              8522665,
              8724728,
              8899767,
              8728769,
              8686374,
              8699739,
              8666213,
              8720751,
              8898010,
              8826887,
              8772438,
              8793590,
              8783295,
              8780700,
              8906453,
              8735404,
              8914789,
              8970056,
              8949004,
              8927157,
              9249899,
              8906232,
              8874269,
              8874936,
              8920157,
              8865097,
              8931833,
              8895095,
              8810148,
              8764670,
              8801210,
              8831085,
              9106286,
              9019376,
              9112996,
              9066991,
              9078898,
              8910513,
              9397642,
              9317037,
              9406406,
              9550228,
              9636406,
              9345139,
              9754026,
              9705646,
              9861208,
              10052264,
              10063392,
              10152164,
              10258179,
              10003632,
              10372114,
              10491329,
              10620943,
              10663998,
              10984622,
              10936285,
              11022277,
              11256269,
              11202243,
              11313542,
              11146570,
              11511751,
              11672954,
              11760863,
              11813276,
              12006820,
              12403739,
              12429198,
              12503064,
              12653682,
              12691209,
              12761632,
              12955905,
              12979239,
              13095810,
              13234893,
              13308293,
              13444782,
              13910083,
              13764228,
              13518981,
              14040623,
              14214455,
              14315884,
              14476300,
              14430954,
              14526849,
              14596005,
              14654175,
              14811363,
              15165414,
              15120154,
              15111738,
              15256084,
              15137313,
              15317899,
              15492941,
              15362797,
              15243208,
              15273491,
              15123953,
              15132024,
              15182721,
              15022870,
              14882714,
              14409978,
              14577096,
              14411005,
              14269797,
              14100648,
              13848355,
              13627258,
              13349481,
              13166871,
              13078518,
              12737283,
              12485235,
              12228636,
              11624711,
              11671584,
              11534897,
              11242328,
              10995011,
              10857618,
              10702701,
              10548023,
              11113221,
              10588377,
              10357799,
              9821506,
              9541072,
              9270641,
              9149731,
              9000656,
              8844095,
              8776007,
              8478898,
              8317845,
              8324556,
              8158095,
              7998499,
              7928284,
              7778968,
              7665617,
              7607128,
              7513265,
              7391075,
              7343400,
              7241505,
              7151970,
              7234829,
              7150796,
              7067003,
              7028757,
              6936382,
              6946856,
              6896939,
              6822791,
              6712229,
              6660219,
              6580810,
              6571641,
              6986440,
              6688622,
              6570568,
              6554251,
              6530351,
              6499040,
              6525569,
              6477032,
              6189247,
              6403622,
              6338379,
              6291488,
              6395846,
              6309184,
              6336388,
              6322847,
              6294245,
              6272358,
              6315111,
              6256689,
              6277580,
              6289664,
              6307803,
              6277283,
              6500813,
              6404193,
              6466936,
              6511075,
              6583261,
              6669502,
              6873246,
              6924218,
              6994424,
              7169588,
              7308709,
              7393192,
              7995366,
              7905155,
              7747495,
              8104054,
              8245019,
              8328598,
              8712225,
              8536920,
              8643434,
              8627629,
              8750105,
              8760543,
              9554185,
              9115496,
              9106931,
              8989070,
              9096724,
              8907532,
              9092047,
              8840672,
              8829793,
              8711117,
              8632793,
              8612554,
              9112216,
              8872637,
              8767337,
              8730514,
              8699838,
              8614564,
              8805004,
              8752505,
              8634545,
              8627195,
              8662356,
              8853346,
              9104656,
              8918242,
              8961875,
              8999388,
              8962686,
              8962731,
              8984823,
              8841972,
              8779245,
              8728420
            ]
          }
        }
      ];
      let seriesAll = [];
      let timeText = parseInt(new Date().getTime() / 1000) * 1000 - 24 * 60 * 60 * 1000
      for (let i = 0; i < data1.length; i++) { // 假时间轴
        xaxis.push(timeText)
        timeText += 5 * 60 * 1000
      }
      this.setChartOption(arr, brr, 'topLog', '设备日志占比') // 右一假饼图
      this.top100({
        xaxis: xaxis,
        id: 'Qps',
        text: '实时日志计数趋势图',
        series: [{
          name: '解析数',
          type: 'line',
          animation: true,
          smooth: true,
          symbol: 'none',
          data: this.$sma(data1),
          lineStyle: { // 折线线条样式
            normal: {
              type: 'solid',
              width: 2
            }
          }
        }]
      }) // 左一假实时日志计数趋势图
      res.forEach(item => {
        seriesAll.push({
          name: item.name,
          type: 'line',
          animation: true,
          smooth: true,
          symbol: 'none',
          data: this.$sma(item.trendChartDto.yaxis),
          lineStyle: { // 折线线条样式
            normal: {
              type: 'solid',
              width: 2
            }
          }
        })
      })
      this.top100({
        xaxis: xaxis,
        id: 'top100',
        text: '实时设备日志计数趋势图',
        series: seriesAll
      }) //  左二实时设备日志计数趋势图
    }
  }
}
</script>
<style scoped>
#myacharts {
  height: 500px;
  /* background: url("../static/images/top-left.png") no-repeat 0 0,
    url("../static/images/top-right.png") no-repeat 100% 0,
    url("../static/images/bottom-left.png") no-repeat 0 100%,
    url("../static/images/bottom-right.png") no-repeat 100% 100%;
  background-size: 50px 50px; */
}
.home {
  height: 100%;
  /* background-color: #404a59;*/
  background: url("../static/images/333.jpg") no-repeat center;
  background-size: cover;
  overflow: hidden;
}
#top100,
#top20Left,
#topOperator,
#topcity,
#cpu,
#Qps,
#topLog {
  width: 100%;
  height: 279px;
  background: url("../static/images/top-left.png") no-repeat 0 0,
    url("../static/images/top-right.png") no-repeat 100% 0,
    url("../static/images/bottom-left.png") no-repeat 0 100%,
    url("../static/images/bottom-right.png") no-repeat 100% 100%;
  background-size: 20px 20px;
}
</style>
